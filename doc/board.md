# Board Description

A board, for **CSim**, represents a micro-controller, its control component and anything connected to them.

A board is described by a **YAML** file as provided in `samples/sample.yaml` that list the components and the connections between the port of the component. It has basically the following format:

```yaml
name: BOARD_NAME
components:
	COMPONENTS
connect:
	CONNECTIONS
```

In addition, the board supports (at top level) supports optional arguments:
* `clock:` _CLOCK_ defines the master clock in Hz (default 1000).
* `quantum:` _N_ defines the number of master clock cycles to execute each time the simulator is invoked (default 100).


## Component Description

_COMPONENTS_ is the list of components composing the board with format:

```yaml
  ID:
    type: TYPE
    base: ADDRESS
    ATTR: VALUE
    ...
```

Where _ID_ is the name of the component inside the board, _TYPE_ is the type of the component as generated by `gliss-csim`, _ADDRESS_ is the hexadecimal base address of component registrer. In addition, one can pass as many attributes as required and they will be passed to the component constructor function.

Notice that the _ID_ must be unique throughout the board description.



## Connections

A _connection_ represents the link between port pins of componens. Their format is the following:

```yaml
  -
    from: ID.PORT
    to: ID.PORT
```

With _ID_ the identifier of a component instance as defined in the components part and _PORT_ the name of a port of a component.


## Example

Below is the **YAML** description of `sample1` board:

```yaml
name: sample1
components:
  LED:
    type: led
    base: A0000000
  BUTTON:
    type: button
    base: B0000000
    key: b
connect:
  -
    from: BUTTON.output
    to: LED.input
```

It is made of two components:

* `LED` is of type `led` and represents a displayed component that which base address is 0xA0000000.
* `BUTTON` is of type `button` and its registers are at base address `B0000000`. In addition, the attribute `key` with value `b` is passed to the button type. It means that the button is an interactive component that reacts to `b` key.

Both components are contected from port `output` of `BUTTON` to port `input` of `LED`. Funny, this means that when the button pushed, the LED will be lighted on (without the action of the program).

